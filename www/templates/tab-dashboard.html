<!--
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!-- script>
function ConfirmLogOut() {
    var x;
    if (confirm("Confirm Logout !") == true) {
        logout();
        x = "Logout Confirmed !";
    } else {
        x = "Logout Canceled !";
    }
    document.getElementById("demo").innerHTML = x;
}
</script -->

<style type="text/css">
table#SavSum tr>td {
  padding: 3px;
}

</style>


<ion-view view-title="Dashboard">
  <ion-content>
    <!-- ion-list class="ion-list-calm">
    	<ion-toggle  ng-model="settings.enableFriends"> Enable Friends </ion-toggle>
    </ion-list -->
    <ion-card>
	<!-- hr / -->
    <!-- div class="list">
	<div class="item item-input-inset">
	<label class="item-input-wrapper">
	    <input type="text" placeholder="Email">
	</label>
	<button class="button button-small">
	    Submit
	</button>
	</div>
    </div -->

    <ion-card>
      <ion-list>
        <ion-item>
          <ion-label>
            Welcome, <strong>{{session.username()}}</strong>!
          </ion-label>
        </ion-item>
        <ion-item>
          Your role: <strong>{{session.role}}</strong>     
          <!-- Table Summary -->
          <table id="SavSum" border="1" style="width:100%">
          <caption> Your Session Summary </caption>
          <!-- thead> 
          <tr> <th title="SI NO"> # </th> </tr>
          </thead -->
          <!-- tfoot>
          <tr> td>Short Report :</td>  </tr>
          </tfoot -->
          <tbody>
          <tr ng-show="rolestat.isAdmin && !num_saccos">
            <td>Loading SACCOs..</td>
            <td>&nbsp;</td>
            <td><ion-spinner></ion-spinner>
            </td>
          </tr>
          <tr ng-show="rolestat.isAdmin && num_saccos">
            <td>
              <div> Total SACCOs: </div>
            </td>
            <td> {{num_saccos}} </td>
            <td> 
              <a href="#/tab/saccos" class="button button-small noVertPadd">
                View
                <span class="icon ion-ios-briefcase-outline"> </span>
              </a>
              <!--span>{{nextSACCO}}</span-->
            </td>
          </tr>
          <tr ng-show="rolestat.isManagement && !num_staff">
            <td>Loading Staff..</td>
            <td>&nbsp;</td>
            <td><ion-spinner></ion-spinner>
            </td>
          </tr>
          <tr ng-show="rolestat.isManagement && num_staff">
            <td>
              <div> Your Staff: </div>
            </td>
            <td> {{num_staff}} </td>
            <td> 
              <a href="#/tab/staff" class="button button-small noVertPadd">
                View
                <span class="icon ion-happy-outline"> </span>
              </a>
            </td>
          </tr>
          <tr ng-show="rolestat.isStaff && !num_clients">
            <td>Loading Clients</td>
            <td>..</td>
            <td><ion-spinner></ion-spinner>
            </td>
          </tr>
          <tr ng-show="rolestat.isStaff && num_clients">
            <td>
              <div> Your Clients: </div>
            </td>
            <td>{{num_clients}} </td>
            <td> 
              <a href="#/tab/clients" class="button button-small noVertPadd">
                View
                <span class="ion-ios-people-outline"> </span>
              </a>
              <!--span>{{nextClient}}</span-->
            </td>
          </tr>
          <!-- FOR SAVINGS, LOANS, SHARES, etc
            <tr>
            <td colspan="2"></td>
            <td><ion-spinner></ion-spinner></td>
          </tr-->
          </tbody>
          </table>
        </ion-item>
        <ion-item>
          You're {{session.status()}}. 
          <div ng-hide="isOnline">
            Last synced: {{session.lastSyncSince()}}
          </div>
        </ion-item>
        <ion-item>
          Logged in <em>@ {{session.loggedInTime()}}</em>
        </ion-item>
        <ion-item class="centered">
          <button class="button-calm button button-clear button-outline"
            ng-click="ConfirmLogOut()">
              Logout<span class="ion-log-out"></span>
          </button>
        </ion-item>
        <ion-item>
          <center ng-show="msg">
            <tt style="font-size:60%">{{msg}}</tt>
          </center>
          <center><a href="#/tab/dashboard/logs">View Logs</a></center>
          <center>More visit: <label><a href="http://kmayra.org">kmayra.org</a> </label> </center>
        </ion-item>
    <!-- WILL BE USED IN PHASE 2
    	 in one of the Templates

        <ion-item>
        Manage Loan Application
        </ion-item>
        <ion-item>
        Name : 
        </ion-item>
        <ion-item>
          Loan Type : 
          <select>
          	<option value="Indivual" selected>
          	  Individual
          	</option>
          	<option> Group </option>
          	<option> etc ... </option>
          </select>
        </ion-item>
    -->
<!--
	INITIAL DESIGN SUGGESTED BY FRANCIS
	When a button is clicked a Modal pops up
	</button>
-->
      </ion-list>

    </ion-card>
  </ion-content>
</ion-view>
